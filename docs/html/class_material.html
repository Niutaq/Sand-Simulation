<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Symulowane Piksele: Dokumentacja klasy Material</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="icon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">Symulowane Piksele<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Wygenerowano przez Doxygen 1.9.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Strona&#160;g贸wna</span></a></li>
      <li class="current"><a href="annotated.html"><span>Klasy</span></a></li>
      <li><a href="files.html"><span>Pliki</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Lista&#160;klas</span></a></li>
      <li><a href="classes.html"><span>Indeks&#160;klas</span></a></li>
      <li><a href="functions.html"><span>Skadowe&#160;klas</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Metody publiczne</a> &#124;
<a href="class_material-members.html">Lista wszystkich skadowych</a>  </div>
  <div class="headertitle"><div class="title">Dokumentacja klasy Material</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="material_8hpp_source.html">material.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Metody publiczne</h2></td></tr>
<tr class="memitem:acff0497bb2bd14d2935be4cbcb689572" id="r_acff0497bb2bd14d2935be4cbcb689572"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#acff0497bb2bd14d2935be4cbcb689572">Material</a> (std::string name, int id)</td></tr>
<tr class="memdesc:acff0497bb2bd14d2935be4cbcb689572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Konstruktor klasy '<a class="el" href="class_material.html">Material</a>'.  <br /></td></tr>
<tr class="separator:acff0497bb2bd14d2935be4cbcb689572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f89687e73ace997832b5e120fc61884" id="r_a9f89687e73ace997832b5e120fc61884"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#a9f89687e73ace997832b5e120fc61884">Gravity</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:a9f89687e73ace997832b5e120fc61884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja, dziki kt贸rej piasek z wod odpowiednio wsp贸gra - istnieje pewna grawitacja.  <br /></td></tr>
<tr class="separator:a9f89687e73ace997832b5e120fc61884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a9761f525254d5d8d203c9bd54bc1e" id="r_af1a9761f525254d5d8d203c9bd54bc1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#af1a9761f525254d5d8d203c9bd54bc1e">UpdateMaterial</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:af1a9761f525254d5d8d203c9bd54bc1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda do zastosowania grawitacji.  <br /></td></tr>
<tr class="separator:af1a9761f525254d5d8d203c9bd54bc1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b990143cffedd14ab8715dbc9f273f" id="r_ac0b990143cffedd14ab8715dbc9f273f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#ac0b990143cffedd14ab8715dbc9f273f">UpdateMaterialv2</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:ac0b990143cffedd14ab8715dbc9f273f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda aktualizacji materiau.  <br /></td></tr>
<tr class="separator:ac0b990143cffedd14ab8715dbc9f273f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001f5d4a00bd6a3d4cd4bafef8128041" id="r_a001f5d4a00bd6a3d4cd4bafef8128041"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#a001f5d4a00bd6a3d4cd4bafef8128041">UpdateMaterialv3</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:a001f5d4a00bd6a3d4cd4bafef8128041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda aktualizacji materialu wody na siatce.  <br /></td></tr>
<tr class="separator:a001f5d4a00bd6a3d4cd4bafef8128041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1452f13a352e9b0c25cad608dea2ddb" id="r_ae1452f13a352e9b0c25cad608dea2ddb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#ae1452f13a352e9b0c25cad608dea2ddb">UpdateMaterialv4</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:ae1452f13a352e9b0c25cad608dea2ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda aktualizacji materialu czstek na siatce.  <br /></td></tr>
<tr class="separator:ae1452f13a352e9b0c25cad608dea2ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be724d9fd6c7d613ea9f3f71d8ba845" id="r_a1be724d9fd6c7d613ea9f3f71d8ba845"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#a1be724d9fd6c7d613ea9f3f71d8ba845">UpdateMaterialv5</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:a1be724d9fd6c7d613ea9f3f71d8ba845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda aktualizacji materialu kwasu na siatce.  <br /></td></tr>
<tr class="separator:a1be724d9fd6c7d613ea9f3f71d8ba845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9705546bab845c360b149f0ae68d9040" id="r_a9705546bab845c360b149f0ae68d9040"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_material.html#a9705546bab845c360b149f0ae68d9040">Erase</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;grid, int i, int j)</td></tr>
<tr class="memdesc:a9705546bab845c360b149f0ae68d9040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metoda aktualizacji materialu roliny na siatce.  <br /></td></tr>
<tr class="separator:a9705546bab845c360b149f0ae68d9040"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Opis szczeg贸owy</h2>
<div class="textblock">
<p class="definition">Definicja w linii <a class="el" href="material_8hpp_source.html#l00004">4</a> pliku <a class="el" href="material_8hpp_source.html">material.hpp</a>.</p>
</div><h2 class="groupheader">Dokumentacja konstruktora i destruktora</h2>
<a id="acff0497bb2bd14d2935be4cbcb689572" name="acff0497bb2bd14d2935be4cbcb689572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff0497bb2bd14d2935be4cbcb689572">&#9670;&#160;</a></span>Material()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Material::Material </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Konstruktor klasy '<a class="el" href="class_material.html">Material</a>'. </p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00008">8</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    8</span>: m_name(name), m_id(<span class="keywordtype">id</span>) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Dokumentacja funkcji skadowych</h2>
<a id="a9705546bab845c360b149f0ae68d9040" name="a9705546bab845c360b149f0ae68d9040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9705546bab845c360b149f0ae68d9040">&#9670;&#160;</a></span>Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::Erase </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda aktualizacji materialu roliny na siatce. </p>
<p>Usuwanie pikeseli jako rysowanie 'pustych pikseli'. </p>
<p>Potrzeba wyzerowa obecny pixel, poniewa偶 inaczej usuwanie bdzie dziaa, lecz obecny piksel bdzie 'niewidzialny', kt贸rego nie da rady bdzie usun</p>
<p>Usuwanie polegan na sprawdzeniu danego materiau piksela, czy kursor nie przekroczyl ponownie siatki oraz usuwanie ma ksztay na wygld znaku '+'</p>
<p>Piasek</p>
<p>Kamie</p>
<p>Woda</p>
<p>Czstka</p>
<p>Kwas</p>
<p>Rolina</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00260">260</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>                                                                  {</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (i &gt;= 0 &amp;&amp; i &lt; World::worldHeight &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a>) {</div>
<div class="line"><span class="lineno">  263</span>        grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 1 || grid[i - 1][j] == 1)) { </div>
<div class="line"><span class="lineno">  267</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  268</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  269</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  270</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  271</span>        }</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 2 || grid[i - 1][j] == 2)){ </div>
<div class="line"><span class="lineno">  274</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  275</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  276</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  277</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 3 || grid[i - 1][j] == 3)) { </div>
<div class="line"><span class="lineno">  281</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  282</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  283</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  284</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  285</span>        }</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 4 || grid[i - 1][j] == 4)) { </div>
<div class="line"><span class="lineno">  288</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  289</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  290</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  291</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  292</span>        }</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 5 || grid[i - 1][j] == 5)) { </div>
<div class="line"><span class="lineno">  295</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  296</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  297</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  298</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  299</span>        }</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; (grid[i + 1][j] == 6 || grid[i - 1][j] == 6)) { </div>
<div class="line"><span class="lineno">  302</span>            grid[i + 1][j] = 0;</div>
<div class="line"><span class="lineno">  303</span>            grid[i - 1][j] = 0;</div>
<div class="line"><span class="lineno">  304</span>            grid[i][j + 1] = 0;</div>
<div class="line"><span class="lineno">  305</span>            grid[i][j - 1] = 0;</div>
<div class="line"><span class="lineno">  306</span>        }</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span>}</div>
<div class="ttc" id="aclass_world_html_a60fb984519a96a6743c75ae8acdf8aca"><div class="ttname"><a href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a></div><div class="ttdeci">static int worldWidth</div><div class="ttdoc">Szeroko siatki.</div><div class="ttdef"><b>Definition</b> <a href="world_8hpp_source.html#l00012">world.hpp:12</a></div></div>
<div class="ttc" id="aclass_world_html_ad83c8a29b4a9ba0e620aa3037dab5420"><div class="ttname"><a href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a></div><div class="ttdeci">static int worldHeight</div><div class="ttdoc">Wysoko siatki.</div><div class="ttdef"><b>Definition</b> <a href="world_8hpp_source.html#l00011">world.hpp:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f89687e73ace997832b5e120fc61884" name="a9f89687e73ace997832b5e120fc61884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f89687e73ace997832b5e120fc61884">&#9670;&#160;</a></span>Gravity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::Gravity </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funkcja, dziki kt贸rej piasek z wod odpowiednio wsp贸gra - istnieje pewna grawitacja. </p>
<p>Zwolnienie opadania piasku na dno, losowe rozprzestrzenianie si</p>
<p>Je偶eli pozycja znajduje si wewntrz okna programu i na dole jest woda - to przesu wod do g贸ry a piasek na dno</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00011">11</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   11</span>                                                                    {</div>
<div class="line"><span class="lineno">   13</span>    <span class="keywordtype">int</span> r = rand() % 2;</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordflow">if</span> (r == 0 &amp;&amp; i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; grid[i + 1][j] == 3) {</div>
<div class="line"><span class="lineno">   16</span>        grid[i][j] = 3;</div>
<div class="line"><span class="lineno">   17</span>        grid[i + 1][j] = 1;</div>
<div class="line"><span class="lineno">   18</span>    } </div>
<div class="line"><span class="lineno">   19</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1a9761f525254d5d8d203c9bd54bc1e" name="af1a9761f525254d5d8d203c9bd54bc1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a9761f525254d5d8d203c9bd54bc1e">&#9670;&#160;</a></span>UpdateMaterial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::UpdateMaterial </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda do zastosowania grawitacji. </p>
<p>Symulacja materiau piasku. </p>
<p>Kod u偶ywa generatora liczb losowych Mersenne Twister (std::mt19937), kt贸ry jest zainicjowany losow wartoci z urzdzenia generujcego losowe liczby (std::random_device). Nastpnie wykorzystuje rozkad r贸wnomierny, aby losowo wybra liczb 0 lub 1 i przypisuje j do zmiennej direction.</p>
<p>0 dla lewej, 1 dla prawej strony</p>
<p>Nie przekracza wymiar贸w (tj. spadek w d贸, wic mie mo偶e przekroczy wysokoci siatki) i na dole jest pusto</p>
<p>Przesu w d贸 w prawo Dla zmiennej 'direction' = 0, Nie przekracza wymiar贸w (wysoko i szeroko), prawo-d贸 i prawo jest puste</p>
<p>Przesu w d贸 w lewo Dla zmiennej 'direction' = 1, Nie przekracza wymiar贸w (wysoko i szeroko), lewo-d贸 i lewo jest puste</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00022">22</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>                                                                           {</div>
<div class="line"><span class="lineno">   26</span>    std::random_device rd;</div>
<div class="line"><span class="lineno">   27</span>    std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">   28</span>    std::uniform_int_distribution&lt;int&gt; distribution(0, 1); </div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordtype">int</span> direction = distribution(gen);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; grid[i + 1][j] == 0)</div>
<div class="line"><span class="lineno">   34</span>    {</div>
<div class="line"><span class="lineno">   35</span>        grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   36</span>        grid[i + 1][j] = 1;</div>
<div class="line"><span class="lineno">   37</span>    }</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 0 &amp;&amp; i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; grid[i + 1][j + 1] == 0 &amp;&amp; grid[i][j + 1] == 0) {</div>
<div class="line"><span class="lineno">   42</span>        grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   43</span>        grid[i + 1][j + 1] = 1;</div>
<div class="line"><span class="lineno">   44</span>    }</div>
<div class="line"><span class="lineno">   45</span>    </div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 1 &amp;&amp; i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; j &gt; 0 &amp;&amp; grid[i + 1][j - 1] == 0 &amp;&amp; grid[i][j - 1] == 0) {</div>
<div class="line"><span class="lineno">   49</span>        grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   50</span>        grid[i + 1][j - 1] = 1;</div>
<div class="line"><span class="lineno">   51</span>    }</div>
<div class="line"><span class="lineno">   52</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0b990143cffedd14ab8715dbc9f273f" name="ac0b990143cffedd14ab8715dbc9f273f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b990143cffedd14ab8715dbc9f273f">&#9670;&#160;</a></span>UpdateMaterialv2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::UpdateMaterialv2 </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda aktualizacji materiau. </p>
<p>Symulacja materiau wody.</p>
<dl class="section see"><dt>Zobacz r贸wnie偶</dt><dd><a class="el" href="class_material.html#ac0b990143cffedd14ab8715dbc9f273f" title="Metoda aktualizacji materiau.">UpdateMaterialv2()</a> <a class="el" href="class_material.html#a001f5d4a00bd6a3d4cd4bafef8128041" title="Metoda aktualizacji materialu wody na siatce.">UpdateMaterialv3()</a> <a class="el" href="class_material.html#ae1452f13a352e9b0c25cad608dea2ddb" title="Metoda aktualizacji materialu czstek na siatce.">UpdateMaterialv4()</a> <a class="el" href="class_material.html#a1be724d9fd6c7d613ea9f3f71d8ba845" title="Metoda aktualizacji materialu kwasu na siatce.">UpdateMaterialv5()</a> </dd></dl>
<p>Ten kod u偶ywa generatora liczb losowych Mersenne Twister (std::mt19937), zainicjowanego losow wartoci pochodzc z urzdzenia generujcego losowe liczby (std::random_device). Nastpnie wykorzystuje rozkad r贸wnomierny, aby losowo wybra liczb -1, 0 lub 1, co mo偶e reprezentowa kierunek ruchu (lewo, brak ruchu, prawo) i przypisuje wynik do zmiennej direction.</p>
<p>-1 dla lewej, 0 dla braku ruchu, 1 dla prawej strony</p>
<p>Nie przekracza wymiar贸w (tj. spadek w d贸, wic mie mo偶e przekroczy wysokoci siatki)</p>
<p>Przesu w d贸, jeli jest puste miejsce</p>
<p>Woda spywa na d贸</p>
<p>Dla zmiennej 'direction' = -1, wolna jest lewa strona (nie przekracza lewej granicy), lewo jest puste</p>
<p>Ruch w lewo</p>
<p>Dla zmiennej 'direction' = 1, wolna jest prawa strona (nie przekracza prawej granicy), prawo jest puste</p>
<p>Ruch w prawo</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00055">55</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                                             {</div>
<div class="line"><span class="lineno">   60</span>    std::random_device rd;</div>
<div class="line"><span class="lineno">   61</span>    std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">   62</span>    std::uniform_int_distribution&lt;int&gt; distribution(-1, 1); </div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordtype">int</span> direction = distribution(gen);</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) {</div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">if</span> (grid[i + 1][j] == 0) {</div>
<div class="line"><span class="lineno">   68</span>            grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   69</span>            grid[i + 1][j] = 3; </div>
<div class="line"><span class="lineno">   70</span>        } <span class="keywordflow">else</span> {     </div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> (direction == -1 &amp;&amp; j &gt; 0 &amp;&amp; grid[i][j - 1] == 0) {</div>
<div class="line"><span class="lineno">   73</span>                grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   74</span>                grid[i][j - 1] = 3; </div>
<div class="line"><span class="lineno">   75</span>            }</div>
<div class="line"><span class="lineno">   77</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 1 &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; grid[i][j + 1] == 0) {</div>
<div class="line"><span class="lineno">   78</span>                grid[i][j] = 0;</div>
<div class="line"><span class="lineno">   79</span>                grid[i][j + 1] = 3; </div>
<div class="line"><span class="lineno">   80</span>            }</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 0 &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; (grid[i + 1][j] == 5 || grid[i + 1][j - 1] == 5 || grid[i + 1][j + 1] == 5)) {</div>
<div class="line"><span class="lineno">   82</span>                grid[i + 1][j] = 3;</div>
<div class="line"><span class="lineno">   83</span>                <span class="comment">//grid[i + 1][j + 1] = 3; </span></div>
<div class="line"><span class="lineno">   84</span>                <span class="comment">//grid[i + 1][j - 1] = 3;</span></div>
<div class="line"><span class="lineno">   85</span>            }</div>
<div class="line"><span class="lineno">   86</span>        }</div>
<div class="line"><span class="lineno">   87</span>    }</div>
<div class="line"><span class="lineno">   88</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a001f5d4a00bd6a3d4cd4bafef8128041" name="a001f5d4a00bd6a3d4cd4bafef8128041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001f5d4a00bd6a3d4cd4bafef8128041">&#9670;&#160;</a></span>UpdateMaterialv3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::UpdateMaterialv3 </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda aktualizacji materialu wody na siatce. </p>
<p>Symulacja czstek. </p>
<p>Liczba 偶ywych 'ssiad贸w'</p>
<p>Pominicie kom贸rki w centrum</p>
<p>Nowa pozycja 'i' kom贸rki</p>
<p>Nowa pozycja 'j' kom贸rki</p>
<p>Zastosowanie '|| grid[ni][nj] == 0' - czstki zjadaj inne piksele i si rozmna偶aj</p>
<p>Wzrasta liczba 'ssiad贸w'</p>
<p>Znacznie wzrasta liczba 'ssiad贸w', gdy czstki napotkaj rolin. UWAGA ! wyglda to nielogicznie, ale dziaa :)</p>
<p>Losowy kierunek</p>
<p>Ruch do g贸ry</p>
<p>Ruch w d贸</p>
<p>Ruch w lewo</p>
<p>Ruch w prawo</p>
<p>Warunek, aby czstki nie przekraczay : g贸rnej i dolnej 'granicy' mapy</p>
<p>Je偶eli na pozycji piksela pojawi si kwas to to czstk ginie</p>
<p>Losowo wybierz kierunek: 0 to pionowo, 1 to poziomo</p>
<p>Pr贸ba przesunicia si pionowo</p>
<p>0 dla g贸ry, 1 dla dou</p>
<p>Czy nowa pozycja mieci si w zakresie</p>
<p>Wyczy bie偶c kom贸rk</p>
<p>Przesu czstk w g贸r</p>
<p>Wyczy bie偶c kom贸rk</p>
<p>Przesu czstk w d贸</p>
<p>Spr贸buj przesun si poziomo</p>
<p>0 dla lewo, 1 dla prawo</p>
<p>Sprawd藕, czy nowa pozycja mieci si w zakresie</p>
<p>Wyczy bie偶c kom贸rk</p>
<p>Przesu czstk w lewo</p>
<p>Wyczy bie偶c kom贸rk</p>
<p>Przesu czstk w prawo</p>
<p>Ustaw nowy stan kom贸rki</p>
<p>Zastosowanie zasad 'Gry w 偶ycie' Conway'a</p>
<p>Kom贸rka umiera z powodu zbyt maej lub zbyt du偶ej liczby ssiad贸w</p>
<p>Martwa kom贸rka o偶ywa</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00091">91</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>                                                                             {</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span> (i &gt;= 0 &amp;&amp; i &lt; World::worldHeight &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a>) {</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordtype">int</span> liveNeighbors = 0; </div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dx = -1; dx &lt;= 1; dx++) {</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dy = -1; dy &lt;= 1; dy++) {</div>
<div class="line"><span class="lineno">   97</span>                <span class="keywordflow">if</span> (dx == 0 &amp;&amp; dy == 0) <span class="keywordflow">continue</span>; </div>
<div class="line"><span class="lineno">   98</span>                <span class="keywordtype">int</span> ni = (i + dx + <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) % <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>; </div>
<div class="line"><span class="lineno">   99</span>                <span class="keywordtype">int</span> nj = (j + dy + <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a>) % <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a>;   </div>
<div class="line"><span class="lineno">  100</span>                <span class="keywordflow">if</span> (grid[ni][nj] == 4 || grid[ni][nj] == 0) { </div>
<div class="line"><span class="lineno">  101</span>                    liveNeighbors++; </div>
<div class="line"><span class="lineno">  102</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (grid[ni][nj] != 6) {</div>
<div class="line"><span class="lineno">  103</span>                    liveNeighbors += 2; </div>
<div class="line"><span class="lineno">  104</span>                }</div>
<div class="line"><span class="lineno">  105</span>            }</div>
<div class="line"><span class="lineno">  106</span>        }</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordtype">int</span> direction = std::rand() % 4; </div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordtype">int</span> newI = i;</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordtype">int</span> newJ = j;</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">if</span> (direction == 0) {</div>
<div class="line"><span class="lineno">  114</span>            newI = (i - 1 + <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a>) % <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> + 1/2;   </div>
<div class="line"><span class="lineno">  115</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 1) {</div>
<div class="line"><span class="lineno">  116</span>            newI = (i + 1 + <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) % <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> + 1/2;  </div>
<div class="line"><span class="lineno">  117</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 2) {</div>
<div class="line"><span class="lineno">  118</span>            newJ = (j - 1 + <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) % <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> + 1/2; </div>
<div class="line"><span class="lineno">  119</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  120</span>            newJ = (j + 1 + <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) % <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> + 1/2; </div>
<div class="line"><span class="lineno">  121</span>        }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">if</span> (newI &lt;= 0) {</div>
<div class="line"><span class="lineno">  125</span>            i = 0;  </div>
<div class="line"><span class="lineno">  126</span>            newI = 0;</div>
<div class="line"><span class="lineno">  127</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newI &gt;= <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> - 1) {</div>
<div class="line"><span class="lineno">  128</span>            i = <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> - 1;</div>
<div class="line"><span class="lineno">  129</span>            newI = <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> - 1;</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">if</span> (grid[i][j] == 5 || grid[newI][newJ] == 5) {</div>
<div class="line"><span class="lineno">  134</span>            grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  135</span>            grid[newI-1][newJ-1] = 0;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (grid[newI][newJ] == 2) {  <span class="comment">// Kolizja z kamieniem</span></div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordtype">int</span> newDir = rand() % 2;</div>
<div class="line"><span class="lineno">  141</span>    </div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">if</span> (newDir == 0) {</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordtype">int</span> upDown = rand() % 2; </div>
<div class="line"><span class="lineno">  145</span>    </div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">if</span> (upDown == 0 &amp;&amp; i &gt; 0) {</div>
<div class="line"><span class="lineno">  148</span>                grid[i][j] = 0; </div>
<div class="line"><span class="lineno">  149</span>                grid[i - 1][j] = 4; </div>
<div class="line"><span class="lineno">  150</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upDown == 1 &amp;&amp; i &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> - 1) {</div>
<div class="line"><span class="lineno">  151</span>                grid[i][j] = 0; </div>
<div class="line"><span class="lineno">  152</span>                grid[i + 1][j] = 4; </div>
<div class="line"><span class="lineno">  153</span>            }</div>
<div class="line"><span class="lineno">  154</span>    </div>
<div class="line"><span class="lineno">  155</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordtype">int</span> leftRight = rand() % 2; </div>
<div class="line"><span class="lineno">  158</span>    </div>
<div class="line"><span class="lineno">  160</span>            <span class="keywordflow">if</span> (leftRight == 0 &amp;&amp; j &gt; 0) {</div>
<div class="line"><span class="lineno">  161</span>                grid[i][j] = 0; </div>
<div class="line"><span class="lineno">  162</span>                grid[i][j - 1] = 4; </div>
<div class="line"><span class="lineno">  163</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (leftRight == 1 &amp;&amp; j &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> - 1) {</div>
<div class="line"><span class="lineno">  164</span>                grid[i][j] = 0; </div>
<div class="line"><span class="lineno">  165</span>                grid[i][j + 1] = 4; </div>
<div class="line"><span class="lineno">  166</span>            }</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  170</span>            grid[newI][newJ] = 4; </div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="line"><span class="lineno">  172</span>    </div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">if</span> (grid[i][j] == 4) {</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">if</span> (liveNeighbors &lt; 2 || liveNeighbors &gt; 3) {</div>
<div class="line"><span class="lineno">  177</span>                grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  178</span>            }</div>
<div class="line"><span class="lineno">  179</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (grid[i][j] == 0) {</div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">if</span> (liveNeighbors == 3) {</div>
<div class="line"><span class="lineno">  182</span>                grid[i][j] = 4;</div>
<div class="line"><span class="lineno">  183</span>            }</div>
<div class="line"><span class="lineno">  184</span>        }</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    }</div>
<div class="line"><span class="lineno">  188</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1452f13a352e9b0c25cad608dea2ddb" name="ae1452f13a352e9b0c25cad608dea2ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1452f13a352e9b0c25cad608dea2ddb">&#9670;&#160;</a></span>UpdateMaterialv4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::UpdateMaterialv4 </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda aktualizacji materialu czstek na siatce. </p>
<p>Symulacja kwasu. </p>
<p>Ten kod u偶ywa generatora liczb losowych Mersenne Twister (std::mt19937), zainicjowanego losow wartoci pochodzc z urzdzenia generujcego losowe liczby (std::random_device). Nastpnie wykorzystuje rozkad r贸wnomierny, aby losowo wybra liczb -1, 0 lub 1, co mo偶e reprezentowa kierunek ruchu (lewo, brak ruchu, prawo) i przypisuje wynik do zmiennej direction.</p>
<p>-1 dla lewej, 0 dla braku ruchu, 1 dla prawej strony</p>
<p>Nie przekracza wymiar贸w (tj. spadek w d贸, wic mie mo偶e przekroczy wysokoci siatki)</p>
<p>Przesu w d贸, jeli jest puste miejsce</p>
<p>Kwas spywa na d贸</p>
<p>Dla zmiennej 'direction' = -1, wolna jest lewa strona (nie przekracza lewej granicy), lewo jest puste</p>
<p>Ruch w lewo</p>
<p>Dla zmiennej 'direction' = 1, wolna jest prawa strona (nie przekracza prawej granicy), prawo jest puste</p>
<p>Ruch w prawo</p>
<p>Zwolnienie opadania kwasu na dno, losowe rozprzestrzenianie si</p>
<p>Je偶eli pozycja znajduje si wewntrz okna programu i na dole jest jaki kolwiek materia - to kwas wchania ten materia</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00191">191</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                                                                             {</div>
<div class="line"><span class="lineno">  196</span>    std::random_device rd;</div>
<div class="line"><span class="lineno">  197</span>    std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">  198</span>    std::uniform_int_distribution&lt;int&gt; distribution(-1, 1); </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordtype">int</span> direction = distribution(gen);</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">if</span> (i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a>) {</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> (grid[i + 1][j] == 0) {</div>
<div class="line"><span class="lineno">  204</span>            grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  205</span>            grid[i + 1][j] = 5; </div>
<div class="line"><span class="lineno">  206</span>        } <span class="keywordflow">else</span> {     </div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">if</span> (direction == -1 &amp;&amp; j &gt; 0 &amp;&amp; grid[i][j - 1] == 0) {</div>
<div class="line"><span class="lineno">  209</span>                grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  210</span>                grid[i][j - 2] = 5; </div>
<div class="line"><span class="lineno">  211</span>            }</div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 1 &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; grid[i][j + 1] == 0) {</div>
<div class="line"><span class="lineno">  214</span>                grid[i][j] = 0;</div>
<div class="line"><span class="lineno">  215</span>                grid[i][j + 2] = 5; </div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction == 0 &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; (grid[i - 1][j + 1] == 0 || grid[i - 1][j - 1] || grid[i][j])) {</div>
<div class="line"><span class="lineno">  219</span>                <span class="keywordtype">int</span> r = rand() % 3;</div>
<div class="line"><span class="lineno">  221</span>                <span class="keywordflow">if</span> (r == 0 &amp;&amp; i + 1 &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> &amp;&amp; j + 1 &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> &amp;&amp; grid[i + 1][j]) {</div>
<div class="line"><span class="lineno">  222</span>                    grid[i + 1][j] = 5;</div>
<div class="line"><span class="lineno">  223</span>                } </div>
<div class="line"><span class="lineno">  224</span>            }</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1be724d9fd6c7d613ea9f3f71d8ba845" name="a1be724d9fd6c7d613ea9f3f71d8ba845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be724d9fd6c7d613ea9f3f71d8ba845">&#9670;&#160;</a></span>UpdateMaterialv5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Material::UpdateMaterialv5 </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Metoda aktualizacji materialu kwasu na siatce. </p>
<p>Symulacja rolin. </p>
<p>Sprawdzenie, czy kom贸rka nad aktualn zawiera wod i czy aktualna kom贸rka ma ID roliny. Jeli tak, to rolina ronie do g贸ry.</p>
<p>Wzrost roliny do g贸ry (na przykad inkrementacja ID roliny lub zmiana koloru piksela).</p>
<p>Aktualizacja kom贸rki na rolin.</p>
<p>Sprawdzenie, czy kom贸rka po lewej stronie aktualnej zawiera wod i czy aktualna kom贸rka ma ID roliny. Jeli tak, to rolina ronie na boki.</p>
<p>Wzrost roliny na boki (analogicznie jak w przypadku wzrostu do g贸ry).</p>
<p>Aktualizacja kom贸rki na rolin.</p>
<p>Sprawdzenie, czy kom贸rka poni偶ej aktualnej jest wod - jeli to mo偶liwe. Jeli tak, to rolina ronie w d贸.</p>
<p>Wzrost roliny w d贸.</p>
<p>Aktualizacja kom贸rki na rolin.</p>
<p>Sprawdzenie, czy kom贸rka po prawej stronie aktualnej jest wod - jeli to mo偶liwe. Jeli tak, to rolina ronie w prawo.</p>
<p>Wzrost roliny w prawo.</p>
<p>Aktualizacja kom贸rki na rolin.</p>

<p class="definition">Definicja w linii <a class="el" href="material_8cpp_source.html#l00230">230</a> pliku <a class="el" href="material_8cpp_source.html">material.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>                                                                             {</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordtype">int</span> r = rand() % 4;</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span> (r == 0 &amp;&amp; i &gt; 0 &amp;&amp; grid[i - 1][j] == 3 &amp;&amp; grid[i][j] == 6) {</div>
<div class="line"><span class="lineno">  236</span>        grid[i - 1][j] = 6; </div>
<div class="line"><span class="lineno">  237</span>    }</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span> (r == 1 &amp;&amp; j &gt; 0 &amp;&amp; grid[i][j - 1] == 3 &amp;&amp; grid[i][j] == 6) {</div>
<div class="line"><span class="lineno">  243</span>        grid[i][j - 1] = 6; </div>
<div class="line"><span class="lineno">  244</span>    }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (r == 2 &amp;&amp; i &lt; <a class="code hl_variable" href="class_world.html#ad83c8a29b4a9ba0e620aa3037dab5420">World::worldHeight</a> - 1 &amp;&amp; grid[i + 1][j] == 3 &amp;&amp; grid[i][j] == 6) {</div>
<div class="line"><span class="lineno">  249</span>        grid[i + 1][j] = 6; </div>
<div class="line"><span class="lineno">  250</span>    }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">if</span> (r == 3 &amp;&amp; j &lt; <a class="code hl_variable" href="class_world.html#a60fb984519a96a6743c75ae8acdf8aca">World::worldWidth</a> - 1 &amp;&amp; grid[i][j + 1] == 3 &amp;&amp; grid[i][j] == 6) {</div>
<div class="line"><span class="lineno">  255</span>        grid[i][j + 1] = 6; </div>
<div class="line"><span class="lineno">  256</span>    } </div>
<div class="line"><span class="lineno">  257</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Wygenerowano przez&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
